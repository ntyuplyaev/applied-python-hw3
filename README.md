# –û—Ç—á–µ—Ç –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–∞

## üìå –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ 5/5)

## –ò—Ç–æ–≥–æ–≤—ã–π –≤–∏–¥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ FastAPI
![–ò—Ç–æ–≥–æ–≤—ã–π –≤–∏–¥](figs/overall.jpg "–ò—Ç–æ–≥–æ–≤—ã–π –≤–∏–¥")

### 1. –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Å—Å—ã–ª–∫–∞–º–∏ (CRUD)
- **–°–æ–∑–¥–∞–Ω–∏–µ (POST /links/shorten)**  
  –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ —Å:  
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–æ–¥–∞ –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–º –∞–ª–∏–∞—Å–æ–º  
  - –£–∫–∞–∑–∞–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ (`expires_at`)  
  - –ü—Ä–æ–≤–µ—Ä–∫–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∞–ª–∏–∞—Å–∞

- **–†–µ–¥–∏—Ä–µ–∫—Ç (GET /{short_code})**  
  - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL  
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞  
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤  

- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (PUT /{short_code})**  
  - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ URL (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞)  
  - –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞  

- **–£–¥–∞–ª–µ–Ω–∏–µ (DELETE /{short_code})**  
  - –£–¥–∞–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞)  
  - –û—á–∏—Å—Ç–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫—ç—à–∞  

### 2. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (GET /{short_code}/stats)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:  
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤  
  - –î–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è  
  - –°—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è —Å—Å—ã–ª–∫–∏  
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ 1 –º–∏–Ω—É—Ç—É  

### 3. –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∞–ª–∏–∞—Å—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –ë–î  
- –ó–∞–ø—Ä–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–∞–Ω—è—Ç—ã—Ö –∞–ª–∏–∞—Å–æ–≤  

### 4. –ü–æ–∏—Å–∫ –ø–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É URL (GET /links/search)
- –í–æ–∑–≤—Ä–∞—Ç –≤—Å–µ—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π  
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞  

### 5. –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å—Å—ã–ª–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ `expires_at`  
- –†—É—á–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –¥–∞—Ç—ã —É–¥–∞–ª–µ–Ω–∏—è —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –º–∏–Ω—É—Ç—ã  

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –ò—Å—Ç–æ—Ä–∏—è –∞—Ä—Ö–∏–≤–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ (GET /links/archive)  
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é   

### 2. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤  
- –ü—Ä–∏–≤—è–∑–∫–∞ —Å—Å—ã–ª–æ–∫ –∫ –ø—Ä–æ–µ–∫—Ç–∞–º  

---

## –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥ –ø–æ JWT-—Ç–æ–∫–µ–Ω–∞–º  
- –ó–∞—â–∏—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:  
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –≤–ª–∞–¥–µ–ª—å—Ü–∞  
  - –ó–∞–ø—Ä–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö —Å—Å—ã–ª–æ–∫  

---

## üóÑÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite)
- **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:**  


### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Redis)
- **–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**  
  - –†–µ–¥–∏—Ä–µ–∫—Ç—ã (TTL: 1 —á–∞—Å)  
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (TTL: 1 –º–∏–Ω—É—Ç–∞)  
  - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ (TTL: 1 —á–∞—Å)  
- **–ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏ —Å—Å—ã–ª–æ–∫  

---

## üìä –û—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫—Ä–∏—Ç–µ—Ä–∏—è–º



*–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–ª—ã –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞—á–∏—Å–ª–µ–Ω—ã –∑–∞:*
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è  
- –°–∏—Å—Ç–µ–º—É –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å—Å—ã–ª–æ–∫  
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫  
